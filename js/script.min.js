const writeUsOpen=document.querySelector(".contacts-button"),writeUsPopup=document.querySelector(".modal-write-us"),writeUsClose=writeUsPopup.querySelector(".modal-close-write-us"),writeUsForm=writeUsPopup.querySelector(".write-us-form"),writeUsName=writeUsForm.querySelector("[name=\"name\"]"),writeUsEmail=writeUsForm.querySelector("[name=\"e-mail\"]"),writeUsMessage=writeUsForm.querySelector("[name=\"message\"]");let isStorageSupport=!0,storageUsername="",storageEmail="";try{storageUsername=localStorage.getItem("username"),storageEmail=localStorage.getItem("e-mail")}catch(a){isStorageSupport=!1}writeUsOpen.addEventListener("click",function(a){a.preventDefault(),writeUsPopup.classList.add("modal-show"),storageUsername&&storageEmail?(writeUsName.value=storageUsername,writeUsEmail.value=storageEmail,writeUsMessage.focus()):storageUsername?(writeUsName.value=storageUsername,writeUsEmail.focus()):writeUsName.focus()}),writeUsClose.addEventListener("click",function(a){a.preventDefault(),writeUsPopup.classList.remove("modal-show"),writeUsPopup.classList.remove("modal-error")}),writeUsForm.addEventListener("submit",function(a){writeUsName.value&&writeUsEmail.value&&writeUsMessage.value?isStorageSupport&&(localStorage.setItem("username",writeUsName.value),localStorage.setItem("e-mail",writeUsEmail.value)):(a.preventDefault(),writeUsPopup.classList.remove("modal-error"),writeUsPopup.offsetWidth,writeUsPopup.classList.add("modal-error"))});const mapOpen=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close-map");mapOpen.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&writeUsPopup.classList.contains("modal-show")&&(a.preventDefault(),writeUsPopup.classList.remove("modal-show"),writeUsPopup.classList.remove("modal-error"))});const sliderClickHandler=function(a,b,c){b.addEventListener("click",function(d){d.preventDefault(),a.querySelector(".current-button").tabIndex=0,a.querySelector(".current-button").classList.remove("current-button"),a.querySelector(".current-slide").classList.remove("current-slide"),b.classList.add("current-button"),b.tabIndex=-1,c.classList.add("current-slide")})},sliderPopular=document.querySelector(".popular-products"),sliderPopularControls=sliderPopular.querySelectorAll(".popular-products-controls button"),sliderPopularContents=sliderPopular.querySelectorAll(".popular-products-item");for(let a=0;a<sliderPopularControls.length;a++)sliderClickHandler(sliderPopular,sliderPopularControls[a],sliderPopularContents[a]);const sliderServices=document.querySelector(".services"),sliderServicesControls=sliderServices.querySelectorAll(".services-slider"),sliderServicesContents=sliderServices.querySelectorAll(".services-item");for(let a=0;a<sliderPopularControls.length;a++)sliderClickHandler(sliderServices,sliderServicesControls[a],sliderServicesContents[a]);
